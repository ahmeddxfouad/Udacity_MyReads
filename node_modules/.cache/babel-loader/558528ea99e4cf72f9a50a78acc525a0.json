{"ast":null,"code":"var _jsxFileName = \"/home/oia/Downloads/Udacity/React Session Lead/nd0191-c1-myreads/starter/src/Search.js\",\n  _s = $RefreshSig$();\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { search } from \"./BooksAPI\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Search(props) {\n  _s();\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  const navigate = useNavigate();\n  const searchBooks = async query => {\n    if (!query) {\n      setSearchedBooks([]);\n      return;\n    }\n    try {\n      const searched = await search(query);\n      // setCurrentAvaialable(books.filter((b) => b.title.includes(query) ? b : null));\n      // console.log('curravailable: ', curravailable)\n      if (searched.error) {\n        setSearchedBooks([]);\n      } else {\n        console.log('searched: ', query, ' ', searched);\n        setSearchedBooks(searched);\n      }\n    } catch (error) {\n      console.error('Failed to search books:', error);\n      setSearchedBooks([]);\n    }\n  };\n  const getBookShelf = book => {\n    let foundBook = books.filter(b => b.id === book.id);\n    console.log('foundBook: ', foundBook);\n    if (foundBook) {\n      return foundBook.shelf;\n    } else {\n      return \"none\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-books\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"close-search\",\n        onClick: () => navigate('/'),\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-books-input-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title, author, or ISBN\",\n          onChange: e => searchBooks(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-books-results\",\n      children: /*#__PURE__*/_jsxDEV(\"ol\", {\n        className: \"books-grid\",\n        children: searchedBooks.map(book => {\n          var _book$imageLinks;\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"book\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book-top\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"book-cover\",\n                  style: {\n                    width: 128,\n                    height: 193,\n                    backgroundImage: `url(${book === null || book === void 0 ? void 0 : (_book$imageLinks = book.imageLinks) === null || _book$imageLinks === void 0 ? void 0 : _book$imageLinks.smallThumbnail})`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"book-shelf-changer\",\n                  children: /*#__PURE__*/_jsxDEV(\"select\", {\n                    value: getBookShelf(book),\n                    onChange: e => props.updateBookShelf(book, e.target.value),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"none\",\n                      disabled: true,\n                      children: \"Move to...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 45\n                    }, this), props.shelfs.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: s,\n                      children: props.beautifyShelf(s)\n                    }, s, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 83,\n                      columnNumber: 49\n                    }, this))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book-title\",\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"book-authors\",\n                children: book.authors.join(', ')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this)\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n_s(Search, \"Kx+BDUyLbIEtWtefNpgAo7ud9lE=\", false, function () {\n  return [useNavigate];\n});\n_c = Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["useNavigate","useState","search","jsxDEV","_jsxDEV","Search","props","_s","searchedBooks","setSearchedBooks","navigate","searchBooks","query","searched","error","console","log","getBookShelf","book","foundBook","books","filter","b","id","shelf","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","e","target","value","map","_book$imageLinks","style","width","height","backgroundImage","imageLinks","smallThumbnail","updateBookShelf","disabled","shelfs","s","beautifyShelf","title","authors","join","_c","$RefreshReg$"],"sources":["/home/oia/Downloads/Udacity/React Session Lead/nd0191-c1-myreads/starter/src/Search.js"],"sourcesContent":["import  { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport { search } from \"./BooksAPI\";\n\nexport default function Search( props: {\n    shelfs: any,\n    beautifyShelf: any,\n    updateBookShelf: any,\n}){\n    const [searchedBooks, setSearchedBooks] = useState([]);\n    const navigate = useNavigate();\n\n    const searchBooks = async (query) => {\n        if (!query) {\n            setSearchedBooks([]);\n            return;\n        }\n        try {\n            const searched = await search(query);\n            // setCurrentAvaialable(books.filter((b) => b.title.includes(query) ? b : null));\n            // console.log('curravailable: ', curravailable)\n            if (searched.error) {\n                setSearchedBooks([]);\n            } else {\n                console.log('searched: ',query, ' ', searched)\n                setSearchedBooks(searched);\n            }\n        } catch (error) {\n            console.error('Failed to search books:', error);\n            setSearchedBooks([]);\n        }\n    };\n    const getBookShelf =(book) => {\n        let foundBook = books.filter((b) => b.id === book.id);\n        console.log('foundBook: ',foundBook)\n        if(foundBook){\n            return foundBook.shelf\n        }else{\n            return \"none\";\n        }\n    }\n\n    return (\n        <div className=\"search-books\">\n            <div className=\"search-books-bar\">\n                <a\n                    className=\"close-search\"\n                    onClick={() => navigate('/')}\n                >\n                    Close\n                </a>\n                <div className=\"search-books-input-wrapper\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search by title, author, or ISBN\"\n                        onChange={(e) => searchBooks(e.target.value)}\n                    />\n                </div>\n            </div>\n            <div className=\"search-books-results\">\n                <ol className=\"books-grid\">\n                    {searchedBooks.map((book) => (\n                        <li key={book.id}>\n                            <div className=\"book\">\n                                <div className=\"book-top\">\n                                    <div\n                                        className=\"book-cover\"\n                                        style={{\n                                            width: 128,\n                                            height: 193,\n                                            backgroundImage: `url(${book?.imageLinks?.smallThumbnail})`,\n                                        }}\n                                    ></div>\n                                    <div className=\"book-shelf-changer\">\n                                        <select\n                                            value={getBookShelf(book)}\n                                            onChange={(e) => props.updateBookShelf(book, e.target.value)}\n                                        >\n                                            <option value=\"none\" disabled>\n                                                Move to...\n                                            </option>\n                                            {props.shelfs.map((s) => (\n                                                <option key={s} value={s}>\n                                                    {props.beautifyShelf(s)}\n                                                </option>\n                                            ))}\n                                        </select>\n                                    </div>\n                                </div>\n                                <div className=\"book-title\">{book.title}</div>\n                                <div className=\"book-authors\">{book.authors.join(', ')}</div>\n                            </div>\n                        </li>\n                    ))}\n                </ol>\n            </div>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}